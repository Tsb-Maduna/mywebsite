<!DOCTYPE html>
<html lang = "en">
	<head>
		<meta charset = "utf-8"/>
		<meta name = "viewport" content = "width = device-width, initial-scale = 1.0"/>
		<title> Maduna - Contact Me </title>
		<link rel = "stylesheet" href = "js/bootstrap.js">
		<link rel = "stylesheet" href = "css/bootstrap.min.css">
		<!-- Theme style -->
		<style>
			body[data-bs-theme="dark"] {
				background-color: #121212;
				color: #f8f9fa;
			}
			body[data-bs-theme="light"] {
				background-color: #ffffff;
				color: #212529;
			}
		</style>
		<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
		<script type="text/javascript">
			(function(){
				emailjs.init("oTcGjpPvGzMjhnLXQ"); // Replace with your EmailJS Public Key
			})();
		</script>

	</head>
	<body class = "container d-flex flex-column min-vh-100" style = "padding-top : 70px;">
		<!-- Navbar -->
		<nav class = "navbar navbar-expand-lg bg-body-tertiary fixed-top">
			<div class = "container">
				<!-- Brand -->
				<a class = "navbar-brand" href = "index.html">T.Maduna</a>
				
				<!-- Toggler button -->
				<button class = "navbar-toggler" type = "button" data-bs-toggle = "collapse" data-bs-target = "#navbarNav" aria-controls = "navbarNav" aria-expanded = "false" aria-label = "Toggle navigation">
					<span class = "navbar-toggler-icon"></span>
				</button>
				
				<!-- Navbar links -->
				<div class = "collapse navbar-collapse" id = "navbarNav">
					<ul class = "navbar-nav ms-auto">
						<li class = "nav-item">
							<a class = "nav-link" href = "index.html"> Home </a>
						</li>
						<li class = "nav-item">
							<a class = "nav-link" href = "about.html"> About </a>
						</li>
						<li class = "nav-item">
							<a class = "nav-link" href = "projects.html"> Projects </a>
						</li>
						<li class = "nav-item">
							<a class = "nav-link active" aria-current = "page" href = "contact.html"> Contact </a>
						</li>
						<!-- Theme Toggle Button -->
						<li class="nav-item">
							<button id="themeToggle" class="btn btn-outline-secondary ms-3">üåô Dark Mode</button>
						</li>
					</ul>
				</div>
			</div>
		</nav>
		<div class = "container d-flex flex-column justify-content-center align-items-center text-center flex-grow-1">
			<h2 class = "text-center mb-4"><em> Contact Me </em></h2>
			<form id="contactForm">
				<div class="mb-3">
				  <label for="name" class="form-label">Your Name</label>
				  <input type="text" class="form-control" id="name" name="from_name" placeholder="Enter your name" required>
				</div>

				<div class="mb-3">
				  <label for="email" class="form-label">Email address</label>
				  <input type="email" class="form-control" id="email" name="reply_to" placeholder="name@example.com" required>
				</div>

				<div class="mb-3">
				  <label for="message" class="form-label">Message</label>
				  <textarea class="form-control" id="message" name="message" rows="4" placeholder="Write your message here..." required></textarea>
				</div>

				<button type="submit" class="btn btn-primary">Send</button>
			</form>
		</div>
		<footer class = "text-center">
			&copy; 2025 Tsebang Maduna. All rights reserved.
		</footer>
		
		<script src = "js/bootstrap.bundle.min.js"></script>
		<script>
			const toggleBtn = document.getElementById("themeToggle");
			const body = document.body;

			// Load saved theme or default to light
			const savedTheme = localStorage.getItem("theme") || "light";
			body.setAttribute("data-bs-theme", savedTheme);
			updateButton(savedTheme);

			// Handle toggle
			toggleBtn.addEventListener("click", () => {
				let currentTheme = body.getAttribute("data-bs-theme");
				let newTheme = currentTheme === "light" ? "dark" : "light";
				body.setAttribute("data-bs-theme", newTheme);
				localStorage.setItem("theme", newTheme);
				updateButton(newTheme);
			});

			// Update button text and style
			function updateButton(theme) {
			if (theme === "dark") {
				toggleBtn.textContent = "‚òÄÔ∏è Light Mode";
				toggleBtn.classList.replace("btn-outline-secondary", "btn-light");
			} else {
				toggleBtn.textContent = "üåô Dark Mode";
				toggleBtn.classList.replace("btn-light", "btn-outline-secondary");
			}
  }
		</script>
		<!--Form-->
		<script>
			document.getElementById("contactForm").addEventListener("submit", function(e) {
				e.preventDefault();

				emailjs.sendForm("service_y47mb93", "template_ejizqrl", this)
				.then(() => {
					document.getElementById("formStatus").innerHTML =
					'<div class="alert alert-success">‚úÖ Message sent successfully!</div>';
					this.reset();
				}, (error) => {
					document.getElementById("formStatus").innerHTML =
					'<div class="alert alert-danger">‚ùå Failed to send message. Try again.</div>';
					console.error("EmailJS Error:", error);
				});
			});
		</script>

	</body>
</html>